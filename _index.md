---
title: "数据资产"
linkTitle: "数据资产"
weight: 30
type: "docs"
description: >
---
文档更新时间：2023-01-30

## 一、产品介绍

本产品面向数据分析、业务等看数据人员，为其提供基于公司数据资产的相关服务。数据资产平台通过数据地图、数据发现、数据权限、资产管理、数据安全五个模块，为用户提供数据资产的快速检索，探索数据资产的分布、分层、血缘关系，并且能够高效锁定数据以及理解数据内容，获取数据。

数据资产平台包含功能介绍：

**数据地图**  
提供同步到数仓的数据表定义的探查、数据权限申请、表变更感知、表血缘分析的表数据理解能力。通过业务分类以及储存分类来筛选表，或者目标表/字段进行检索查询。找到目标表后可通过表详情的字段描述，DDL定义，使用情况，数据样例，表血缘等理解元数据，可通过表影响分析评估表变更影响，通过订阅方便获取数据变更相关信息。

**数据发现**  
提供业务系统表的探查， 数据权限申请， 业务库权限申请， 业务表同步到数仓的申请服务。 用户可以盘点查看不同业务域的系统表详情和同步数仓情况，也可根据自身需求申请同步到数仓， 申请业务表权限， 申请业务库权限。

**数据权限**  
提供对业务系统和数仓表的数据权限管理和审计。用户可查看被授予权限的表范围和途径， 用户可申请加入特定的业务角色用于批量获取业务角色表权限。 可审计查询用户粒度、库表粒度、角色粒度的表权限授予情况，可以对角色权限、用户权限、库表权限、HDFS权限根据用户自身已有账号权限进行管理以及相应操作。

**资产管理**  
内有KAFKA管理，KAFKA是一种高吞吐量、分布式、基于发布订阅的消息系统，它可以处理消费者在网站中的所有动作流数据。Kafka的目的是通过Hadoop的并行加载机制来统一线上和离线的消息处理，也是为了通过集群来提供实时的消息。支持通过Kafka服务器和消费机集群来分区消息。

**数据安全**   
提供业务高敏表字段的定义标注和数据安全表字段定义标注功能。

**平台配置**  
面向数仓等数据管理人员提供基于数仓表的分类定义和业务系统表的分类定义。和数据权限管理、数据安全管理等相关治理功能。

**数据资产服务**  
以接口服务的方式提供给其它系统用户表权限服务，表元数据查询服务，表血缘查询服务。

## 二、版本历史

数据开发平台产品更新动态，帮助及时了解平台新增功能及功能优化等，快速掌握产品情况。
2023-01版本

|编号|	特性|	功能描述|	产品说明
|:---:|:---:|-------------------------------------------------------|-----------|
|1|	新增|	‘安全敏感/安全级别变更表’，安全部的同事可以查看详细列表，并可立即回收有安全风险的用户表权限|	数据安全-安全敏感
|2|	新增|	‘订阅管理/订阅表’，用户订阅的表,修改订阅的额外信息（通知方式和实际订阅项变更暂未实现）|	资产管理-订阅管理
|3|	新增|	‘订阅管理/检测先’，实现了元数据感知和订阅的感知项和规则管理|	资产管理-订阅管理


2022-12版本

| 编号  | 	特性 | 	功能描述                                                 | 	 产品说明    |
|:---:|:---:|-------------------------------------------------------|-----------|
|1|	新增| 	数据升迁功能，dp_data_db库表创建人或有modify权限的用户可以升迁到ods_offline库 |	数据地图-表详情
|2|	新增| 	安全级别变更申请，提供表由非安全敏感变为安全敏感时发起重新审批，避免权限被回收              |	数据地图-权限重申
|3|	新增| 	我创建的表查询 & 下载查询到的表列表                                  |	数据地图-功能新增
|4|	优化| 	个人配置加上数字图标                                           |	数据地图-个人配置
|5|	优化| 	文本“任务创建人“改为”工作流创建人“                                  |	数据地图-数据血缘
|6|	新增| 	权限临过期表邮件通知	                                          |数据权限-邮件通知
|7|	新增| 	新增表权限延期工单，简化已有权限的表权限到期时的延期流程	                        |数据权限-授权服务
|8|	新增| 	新增值班人员自动授权，值班人员自动授权24小时相应库表权限	                       |数据权限-授权服务
|9|	新增| 	HDFS权限，白名单用户可以在申请hive权限时选择同时也申请hdfs权限                |	数据权限-HDFS权限
|10|	新增| 	用户可以查看自己的hdfs权限详情，管理员可对权限和白名单进行操作                    |	数据权限-HDFS权限
|11|	新增| 	KAFKA管理-集群管理和TOPIC管理，支持topic申请工单（原资产管理改为平台配置）        |	资产管理-kauka
|12|	新增| 	KAUKA管理-group管理，查看kafka消费组信息	                        |资产管理-kauka
|13|	新增| 	安全提数、安全回数、合作方匹配功能	                                   |数据安全

2022-11版本

| 编号  | 	特性 | 	功能描述                            | 	 产品说明    |
|:---:|:---:|----------------------------------|-----------|
|  1  | 	新增 | 	支持字段中文名查询，支持模糊搜索	               | 数据地图-搜索页  |       
|  2  | 	新增 | 	支持tidb表查询和权限申请	                 | 数据地图-查询   |        
|  3  | 	新增 | 	据挖掘和实时特征业务标签分类	                 | 数据地图-分类   |        
|  4  | 	优化 | 	列表查询性能优化	                       | 数据地图-查询   |        
|  5  | 	优化 | 	过滤临时表配置项，放到右侧【配置】下拉里面	          | 数据地图-优化项  |        
|  6  | 	优化 | 	相同表只打开一个tab	                    | 数据地图-优化项  |       
|  7  | 	优化 | 	申请写入权限，显示敏感信息表	                 | 数据地图-申请写入 |        
|  8  | 	优化 | 	批量申请权限优化，单表申请时可转为批量申请	          | 数据地图-批量申请 |        
|  9  | 	优化 | 	卡片样式优化，中英文展示，过长收起	              | 数据发现-数据卡片 |        
| 10  | 新增  | 	角色的表权限支持角色下的用户提申请	              | 数据权限-角色申请 |        
| 11  | 新增  | 	角色的表权限不支持增加安全敏感和业务敏感的表，只能由个人申请	 | 数据权限-角色申请 |        
| 12  | 优化  | 角色查询显示优化                         | 数据权限-角色申请 |        
| 13  | 优化  | 	申请加入角色文案优化	                     | 数据权限-角色申请 |        
| 14  | 新增  | 	新增安全敏感，管理安全敏感表	                 | 数据安全-安全敏感 |        

2022-10版本

|  编号   | 特性  | 功能描述                                                                                                                             | 产品说明          |
|:-----:|:---:| -------------------------------------------------------------------------------------------------------------------------------- | ----------------- |
|   1   | 新增  | 表详情中新增数据最近更新时间                                                                                                             | 数据地图-表详情   |
|   2   | 新增  | 表详情中Hvie库数仓表新增业务属主（优先来源于角色属主定义，其次来源于表创建人）                                                           | 数据地图-表详情   |
|   3   | 新增  | 表详情中新增业务敏感信息                                                                                                                 | 数据地图-表详情   |
|   4   | 新增  | 业务分类中新增业务标签，并标记公司经分表、财务经分表                                                                                     | 数据地图-搜素页   |
|   5   | 优化  | 查询列表的最近更新时间改为数据最近更新时间                                                                                               | 数据地图-搜索页   |
|   6   | 新增  | 新增过滤筛选配置按钮，可选择过滤BJMD机房的表，过滤hive非数仓表，过滤其他数据源，过滤ods非prd_开头的表                                    | 数据地图-搜索页   |
|   7   | 新增  | 用户个性化配置，通过筛选和配置功能的配置项修改保存最新<br>（风控中心同学已默认配置均过滤；用户可以修改配置并自动保存，下次登陆自动配置） | 数据地图-搜索页   |
|   8   | 新增  | ods表显示权限申请热度，每20人次增加一个火，方便用户识别常用表                                                                            | 数据地图-搜索页   |
|   9   | 新增  | 列表中ods表增加申请热度打标，火苗形式显示权限申请热度                                                                                    | 数据地图-搜索页   |
|  10   | 新增  | HIVE表权限申请审批流程增加非经分岗申请经分表时中心总审批节点                                                                             | 数据地图-数据申请 |
|  11   | 新增  | 用户可申请加入指定业务角色<br>（申请路径：数据资产 -> 数据权限 -> 角色权限 ->申请增加用户)                                               | 数据权限-角色管理 |
|  12   | 新增  | 业务角色中增加库表权限，hive支持库.*整库授权                                                                                             | 数据权限-角色管理 |
|  13   | 新增  | 支持配置的用户hive(hdfs)权限同步到ranger                                                                                                 | 数据权限-授权服务 |
|  14   | 优化  | 优化权限查询速率，数据开发功能内调用资产系统的权限查询1s以内                                                                             | 数据权限-授权服务 |
|  15   | 优化  | hive表权限变更时，doris同名表权限一并变更，便于用于使用                                                                                  | 数据权限-授权服务 |
|  16   | 优化  | 卡片样式优化，展示系统英文+中文的顺序                                                                                                    | 数据发现-搜索页   |

2022-09版本


| 编号 |  特性   | 功能描述   | 产品说明   |
| :---: |:-----:| ------------- | -------------------- |
|  1  |  优化   | 新的表权限申请审批流程（由业务属主最终审批表权限）                        | 数据地图-数据申请    |
|  2  |  新增   | 表权限申请,支持用户自己填写表列表                                         | 数据地图-数据申请    |
|  3  |  优化   | 批量添加的购物车样式调整                                                  | 数据地图-搜素页      |
|  4  |  新增   | 血缘图显示可选择血缘层级                                                  | 数据地图-数据血缘    |
|  5  |  新增   | 血缘图血缘图点击表可以展示表信息与产出表的任务信息,任务信息新增任务负责人 | 数据地图-数据血缘    |
|  6  |  新增   | 血缘图叶子节点显示未展现的表数量                                          | 数据地图-数据血缘    |
|  7  |  新增   | 新增影响分析,展示下游受影响的任务                                         | 数据地图-数据血缘    |
|  8  |  优化   | 表信息增加库名                                                            | 数据地图-数据血缘    |
|  9  |  优化   | 表血缘支持多任务产出的采集呈现，历史无效血缘不展示                        | 数据地图-数据血缘    |
|  10  |  新增   | 数据开发的依赖的权限接口支持角色和整库                                    | 数据权限-授权服务    |
|  11  |  新增   | 角色权限线上申请功能                                                      | 数据权限-角色管理    |
|  12  |  新增   | 新增库表权限页面,查询表有权限的用户和角色(普通用户不开放)                 | 数据权限-库表权限    |
|  13  |  新增   | 属主角色增加部门信息,一个表只能属于一个属主角色                           | 数据权限-角色权限    |
|  14  |  新增   | 新增经分组织角色,用于维护经分的人员和相关部门                             | 数据权限-角色权限    |
|  15  |  优化   | 支持普通用户查看个人权限                                                  | 数据权限-用户权限    |
|  16  |  优化   | 支持普通用户查看角色权限                                                  | 数据权限-角色权限    |
|  17  |  新增   | 新增数仓层级定义，数据发现mysql库仅属于一个业务系统                       | 资产管理-数仓层级定义 |
|  18  |  新增   | 新增资产应用分类定义菜单,管理源系统(mysql)的业务分类                      | 资产管理-应用分类定义 |
|  19  |  新增   | 数据安全模块,增加业务敏感菜单,属主角色管理员可以编辑角色下的表的敏感字段  | 数据安全-业务敏感    |
|  20  |  优化   | 业务域卡片化,增加了统计信息                                               | 数据发现-搜索页      |

2022-08版本


|  编号   |  特性   | 功能描述  | 产品说明   |
|:-----:|:-----:| --- |--- |
|   1   |  优化   | 数据地图增加无权限过滤条件，方便用户查询无权限的表清单 | 数据地图-搜索页   |
|   2   |  优化   | 增加无权限过滤条件                                     | 数据地图-搜素页   |
|   3   |  优化   | 表详情,字段序号从1开始                                 | 数据地图-表详情   |
|   4   |  新增   | 新增使用角色权限功能，可根据角色进行库表的批量授权     | 数据权限-角色管理 |
|   5   |  新增   | 新增基于用户粒度的数据权限管理                         | 数据权限-用户权限 |

## 三、快速入门

**场景1： 查找&申请数据权限**

- Step1:概要了解数据资产的分布  
  通过【总览】或者【数据地图】左侧分类快速理解理解基于数仓层级分类的数据分布情况，并通过勾选进一步查看表的清单和表详情
- Step2:查找了解具体表信息  
  通过【数据地图】的检索，快速定位到进入到数仓的表，通过点击后可进一步了解表的字段信息，更新周期，版本变更， 血缘信息等
  通过【数据发现】的检索，可查看业务库表的字段信息
- step3: 表权限申请  
  通过【数据地图】提供了单表和批量表的查询和变更权限申请，申请完后在自助查询和数据开发即可使用
  **p.s.**批量表权限申请可通过左侧分类筛选或批量申请中输入表；还可以通过在【数据权限】的角色权限中申请进入某个 业务角色中享有该角色下的所有数据权限。
- step4: 表同步进入数仓申请  
  通过【数据发现】提供可发起业务表同步到数仓的申请
- step5：了解数据申请流程  
  提交申请后，在【工单流程】中具体的工单中可查看审批流程和人员。

**场景2： 多人共享数据表权限**

用于项目，部门等需要获取相同表数据权限的便捷申请和管理， 需要申请角色的管理员部门承担使用的授权责任

- Step1:  角色创建  
  申请流程：申请人->直属领导->部门领导->平台管理员（黄龙）（若申请人为部门或之上层级领导，免部门审批，流程线下邮件，邮件主要内容需要包括：申请的角色类型（业务角色），角色管理员， 角色英文名， 角色描述，需要初始化的用户和表等）
- Step2:  增加角色中人员  
  申请流程：申请人->直属领导->角色管理员->中心总（若申请人不属于角色部门，且角色的所属部门是经分部门,需要申请人中心总批准；  为线上流程，功能路径：数据权限->角色权限->申请增加用户）
- Step3:  增加角色中表权限  
  角色中的用户，可在数据地图申请表权限的地方，通过选择角色名称，给角色申请权限。（注意，业务高敏表和安全高明表在角色中禁止申请）

**场景3：持久性过滤不需要看到表&通知**

数据地图中支持Hive，Mysql等库的元数据查看和申请， 同相关表更的通知， 平台通过【配置】提供对该类信息的持续性过滤控制

- Step1:  修改【配置】  
  在数据地图筛选需求的右侧，打开【配置】，可对不需要的临时表， 非数仓表等按照选项进行过滤。勾选后再次打开依然生效。 （注意，风控业务部门的配置项默认全部过滤， 非风控部门的配置项默认不过滤）
- Step2:  重新检索  
  配置修改后， 再检索信息时，配置中过滤的信息项都不会出现。

**场景4：表元数据信息调整（表的业务分类， 业务数据，系统分类，业务属主， 技术属主、业务敏感、安全敏感等）**

提供给对应元数据信息的生产和管理方用于准确的公示和使用信息， 该类需求，请联系平台管理员， 平台代操作。 当前该类操作限制性开放用户使用。

## 四、数据权限管理

请参考[数据权限管理](/yushu/user-guide/dam/数据权限管理/)

## 五、功能权限说明

<table>
    <tr>
        <th>功能模块</th>
        <th></th>
        <th>权限</th>
    </tr>
    <tr>
        <td>总览</td>
        <td>-</td>
        <td>所有人可见</td>
    </tr>
    <tr>
        <td>数据地图</td>
        <td>-</td>
        <td>所有人可见</td>
    </tr>
    <tr>
        <td>数据发现</td>
        <td>-</td>
        <td>所有人可见</td>
    </tr>
    <tr>
    <td rowspan="4">数据权限</td>
        <td>角色权限</td>
        <td>新增角色，编辑角色，编辑表权限（管理员）<br>编辑用户授权（角色管理员）<br>其他功能所有人可见</td>
    </tr> 
     <tr>
        <td>用户权限</td>
        <td>新增表，编辑表，删除表（管理员）<br> 其他功能所有人可见 </td>
    </tr>
     <tr>
        <td>库表权限</td>
        <td>账号和角色的删除（管理员）<br>其他功能所有人可见</td>
    </tr>
      <tr>
        <td>HDFS权限</td>
        <td>白名单、新建、生失效（管理员）<br> 除管理员内容仅查看</td>
      </tr>
    <tr>
        <td>资产管理</td>
        <td>KAUKA管理</td>
        <td>仅管理员可见</td>
    </tr>
    <tr>
        <td rowspan="2">数据安全</td>
        <td>业务敏感</td>
        <td>仅属主角色管理员可见</td>
    </tr>   
    <tr>
        <td>安全敏感</td>
        <td>仅管理员可见</td>
    </tr>
 <tr>
        <td rowspan="2">平台配置</td>
        <td>数仓层级定义</td>
        <td rowspan="2">仅管理员可见</td>
    </tr>   
    <tr>
        <td>应用分类定义</td>
</table>

## 六、总览

【总览】页面统计目前数据资产的分布情况，让用户对感兴趣的数据分类整体情况有一个明确的认知，同时能够一键跳转到相应分类下的【数据地图】中查看相关的表，或者到【指标字典】中查看相应的指标。
![image.png-249.6kB][2]
&emsp;

1. 按照数仓层级分布统计
   表总数：表总数统计ODS层及以上的表数量，包括hive、Doris、MySQL、Click   house四类数据源的表总数，不包括临时表；所有层数之和不等于总数，因为存在不属于数仓层级的表。
2. 按照数据集市分布情况进行统计，表主要是DWT层的数据
   hive数仓数据集市层的分类统计，包括表的数量与指标的数量
3. 按照数据域及业务过程的分布情况进行统计，表主要集中在DWD+DWS层

## 七、数据地图

【数据地图】主要提供通过检索和分类查找的方式找表， 通过表详情理解表， 并能够申请表权限，订阅表感知元数据变化。
数据地图纳入查询的表主要是数仓管理相关的库，涉及元数据采集类型hive（ods层到dwt层） Doris（DWD到ADS层 ）mysql（仅ads层）
![image.png-339.1kB][3]
&emsp;

### 1.搜索页

数据检索和展示的功能。支持两种模式，第一种是通过搜索直接查找数据，第二种是通过分类筛选查找表。

+ **搜索**  
  可以按表名称搜索，也可以按照字段名称或者表描述进行搜索 。
  表名称进行搜索，支持模糊匹配和精确匹配；
  字段名称进行搜索，支持中文字段检索，支持精确匹配和模糊匹配
  表描述进行搜索

![image.png-7.5kB][4]
&emsp;

+ **分类查询**    
  筛选分为两种：按业务、按存储。
  按业务分类，可按照数仓的不同层级的不同分类标准进行筛选表。
  按存储分类，可按照表的存储的物理介质进行筛选。

![image.png-15.1kB][5]
&emsp;

+ **表下载**  
  可以下载查询到的表，包含字段：数据源、集群、库名、表名、表描述、表类型、表创建人、表大小、数据最近更新时间、数仓分层、数仓业务分类，可下载查询表上限为2000条。

![image.png-89.5kB][6]   
&emsp;

+ **表列表**   
  展示筛选条件下所有的表
  Hive ODS的表展示用户申请数量
  表的存储机房展示，如果在两个机房存在，展示两个机房，申请的权限默认都有
+ **表操作**    
  针对表可以进行申请查询权限、申请写入权限、订阅，且以上操作都支持批量操作。
+ 申请查询权限  
  点击后，填写申请原因，提交后产生审批工单，在【我的流程】中可查看审批进度，审批通过后，在【数据开发】【自助查询】等模块中可进行数据的select权限
+ **申请写入权限**  
  点击后，填写申请原因，提交后产生审批工单，在【我的流程】中可查看审批进度，审批通过后，在【数据开发】【自助查询】等模块中可进行数据的insert update delete 权限
+ **订阅**  
  点击后，即订阅成功，当该表发生DDL变更的时候以邮件或者站内信的形式发送消息。

![image.png-23.3kB][7]
&emsp;

+ **翻页记录功能**  
  在翻页或重新筛选表的时候，被选中表都会被记录下来，用于批量操作的使用，同时点击【查看选中表数据】弹出选中表清单，可做进一步移除。

![image.png-29.4kB][8]
&emsp;

+ **批量操作**  
  提供对翻页记录数据的批量申请，批量写入申请，批量订阅功能

![image.png-29.9kB][9]
&emsp;

**①批量申请查看**   
点击后，支持基于左侧勾选，手工输入方式录入批量表；可以为申请人和业务角色申请表权限。

**②批量订阅**  
点击后，基于左侧勾选表， 完成批量订阅。

**③批量申请写入**   
点击后，支持基于左侧勾选，手工输入方式录入批量表；可以为申请人和业务角色申请表权限。


+ 筛选  
  可在搜索前或搜索后对表详情进一步过滤，选中的条件可持久保存    
  ![image.png-45.1kB][10]
  &emsp;

+ **权限临过期表**  
  点击【权限临过期表】可查看快过期权限的表，并提交延期的工单申请
+ **安全级别变更表**  
  提供安全级别变更申请，提供表由非安全敏感变为安全敏感时发起重新审批，避免权限被回收
+ **配置**  
  用于提供低频的配置项，配置后，持久保存

  |配置项|用途|
            | ---- | ---- |
  |过滤BJMD机房的表|选择后仅展示LYCC机房储存的表
  |过滤非数仓表|选择后仅展示ODS层到DWT层的表
  |过滤MySQL库表|-
  |过滤Doris库表|-
  |过滤ClickHouse库表|-
  |过滤ods非prd_开头的表|-

### 2.表信息详情

在【表清单页】中点击具体表名，打开该表的【表信息详情页】

![image.png-100.8kB][11]

**基础信息**  
基础信息包括了表的基本信息、存储信息、业务信息，其中业务信息可通过点击编辑进行手动编辑。
**字段信息**  
包括表的字段描述，字段中英文，数据类型，是否业务敏感，是否安全敏感等
**分区信息**  
分区信息展示了表的分区字段，以及每个分区的详细情况。

![image.png-62.5kB][12]
&emsp;
**数据预览**  
支持预览10条已脱敏加密数据。

![image.png-115.1kB][13]
&emsp;

**数据血缘**    
数据血缘目前支持表血缘图和影响分析两个功能。  
**表血缘图**  
表级别的上下游数据血缘表查看和表上的任务信息和用户申请数，可辅助判断表信息调整对下游的影响。

1. 上游层级：可选中 展示的上游表层数
2. 下游层级：可选中展示的下游表层数
3. 图表模式切换： 支持有向图查看模式和表形式查看和下载
4. 表任务信息：点击表可查看表上的任务详情

![image.png-90kB][14]
&emsp;

**表展现形式的信息**  
该形式下，可在一个表中查看血缘涉表的创建人， 更新频率，最近更新时间，申请用户数，表任务信息等，并可下载方便进一步比对信息
![image.png-66.1kB][15]
&emsp;

**影响分析**  
展示表的下游任务依赖， 可辅助判断表调整对下游任务的影响并找到联系人处理影响， 任务支持来源于数据开发的任务
**筛选条件**  
支持基于血缘层级、表名、任务来源、任务项目名称的筛选。

**列表字段**  
基于依赖表的任务粒度展示表名，工作流任务， 项目名称， 层级
![image.png-54.7kB][16]
&emsp;

**数据增量**  
统计同步业务库的表每天数据增加的情况，通过折线图展示最近30天的数据。
![image.png-243.6kB][17]
&emsp;

**变更管理**  
统计表的DDL变更，如果已订阅该表，一旦发生DDL变更，会发送邮件和站内信。
![image.png-161kB][18]
&emsp;

**使用统计**  
该表的使用情况进行统计，目前统计了订阅情况和查询情况
![image.png-122.6kB][19]
&emsp;

**建表DDL**  
展示该表创建的DDL语句
![image.png-153.2kB][20]
&emsp;

## 八、数据发现

数据发现模块主要给用户提供在线数据发现功能，用户能在该模块上清晰的看到每个业务域下的业务系统数量，每个业务系统下的表数量；以及查看表的同步状态、预览数据、发起同步申请等。库表为源系统的业务数据库的数据元信息，主要是mysql数据库，展示的是逻辑总表（不展示实际的分库分表）

### 1.业务域归属

- **业务域区域**  
  通过（业务域 -> 业务系统 -> 库 -> 表）这条关系链将表绑定到业务域的关系进行呈现和查看
- **产品区域**  
  通过点击具体业务域分类，呈现分类下的具体业务系统产品，通过点击具体产品呈现具体库表清单

![image.png-305.5kB][21]
&emsp;

- **申请库权限**  
  在业务库权限申请界面中，通过选择申请的目标库，以及选择到期时间、申请原因即可申请库权限

![image.png-93kB][22]
&emsp;

- **权限临过期库**  
  在该界面下可以查看临过期权限库都有哪些？

### 2.业务系统表功能

- **表清单**  
  通过点击上方的卡牌，下方展示该业务系统下的库表。并可根据表名、所属库表，是否同步，权限等进行筛选进一步定位发现所需表
- **表详情**  
  查看该业务表的详情数据，包括了字段信息、数据预览和DDL信息

![image.png-66kB][23]
&emsp;

- **申请查看**  
  申请该表的select权限，提交申请后在【工单流程】中查看审批进程。

![image.png-48.2kB][24]
&emsp;

- **申请同步**   
  如果该表未被同步，可点击【申请同步】，申请后在【工单流程】中查看审批进程。默认所有业务库的数据会同时同步到两个数据中心。若只同步了一个中心，用户可再次申请同步，同步到另一个中心。

![image.png-20.2kB][25]
&emsp;

- **申请库权限**   
  可以直接申请某个数据库的查看权限。则获取了该数据库下所有表的select权限。

![image.png-54.9kB][26]
&emsp;

## 九、数据权限

对数据的用户权限、角色权限进行管理。普通用户可申请加入业务角色用于获取角色的批量表权限，可查看用户所授权的表清单。管理员具有角色的创建，用户权限调整，库表开放权限等功能。

### 1.角色权限

用于角色的创建，及对创建后的角色增加用户和表授权

![image.png-113.6kB][27]

- **申请增加用户**  
  通过填写申请角色名称名称， 申请原因来申请增加角色，申请加入角色，给自己已经加入的角色申请表权限（需走审批流程，仅限leader操作，否则申请会被驳回）。
  其中业务角色可对表进行查看等操作；属主角色类型为管理角色，用于对表增加业务属主（一个表对应一个属主），获取表的业务申请权；经分组织角色，用于维护经分的人员和相关部门。

![image.png-24.3kB][28]
&emsp;

- **新增角色**  
  通过填写角色名称，角色类型，角色描述创建角色


| 角色类型&emsp;&emsp;&emsp; | 用途                                                                   | 创建方法                                             | 用户加入方法                           | 表加入方法                                             |
| -------------------------- | ---------------------------------------------------------------------- | ---------------------------------------------------- | -------------------------------------- | ------------------------------------------------------ |
| 业务角色                   | 表数据权限批量共享， 该角色下的用户可共享该角色下所有表的权限          | 线下同平台管理员申请，管理员通过【新增角色】功能创建 | 通过功能【角色权限->申请增加】用户提交 | 在数据地图中通过表权限申请功能申请，注意选择给角色申请 |
| 属主角色                   | 表业务属主批量调整，该角色下绑定表的业务属主将变更为角色下绑定的管理员 | 线下同平台管理员申请，管理员通过【新增角色】功能创建 | 管理员配置                             | 管理员配置                                             |
| 经分角色                   | 经分角色人员配置， 用于数据审批中申请人的经分身份判断                  | 已有                                                 | 管理员配置                             | 管理员配置                                             |

- **编辑角色**  
  编辑角色的基本信息， 角色类型不可修改
- **编辑用户授权**  
  用于给角色增加用户
- **编辑表授权**  
  用于给角色批量授权表和对应的权限，授权表时支持*匹配规则

### 2.用户权限

用户可查看自己申请的表和通过业务角色授权表的权限和失效日期，以便发起变更申请。管理员可基于工单情况调整用户表相关权限。

![image.png-118.5kB][29]

- 新增表权限
  用于给用户批量增加库表权限

![image.png-39.5kB][30]

- 编辑权限
  用于对授权类型为用户的,修改表的权限和有效期

![image.png-23.4kB][31]

- 删除
  用于解绑授权类型为用户的表权限

![image.png-14.5kB][32]

### 3.库表权限

用于查看审计表的用户授权情况

- **账号详情**  
  可查看该表下的授权账号信息
- **角色详情**  
  可查看该表下的角色名称以及对应权限

![image.png-180.3kB][33]

### 4.HDFS权限
用于查看库表授权生失效日，以及相应HDFS路径

- 生效or失效  
  由管理员操作，对用户所拥有权限表进行生失效处理

![image.png-369.1kB][34]

- 白名单  
  用于查看账号白名单状态、创建&更新时间，并可对指定账号状态进行生失效操作（仅管理员可操作）
  ![image.png-254.5kB][35]

## 十、资产管理
### 1.KAFKA管理
#### Topic管理
- **样例**  
  可以查看该条topic里采样条数、采样开始时间、以及数据详情
- **监控**  
  可选定指标及指定日期，生成写入&消费对比折线图
- **配置（仅管理员）**  
  可根据配置名称编辑该配置的配置值
- **编辑（仅管理员）**  
  可编辑分区个数及所属topic集群
  ![image.png-269kB][36]
  &emsp;

#### Group管理
- **Topic信息（文件夹图标）**  
  可查看该group里面的topic信息
- **消费者详情**  
  可查看消费者ID、客户端ID、客户端地址、分区分配详情
  ![image.png-270.4kB][37]
  &emsp;

#### 集群管理
- **编辑（仅管理员）**  
  点击后可编辑集群名称、zk地址、访问地址
- **删除（仅管理员）**  
  点击后删除该集群信息  
  ![image.png-246.9kB][38]
  &emsp;

### 2.订阅管理
用于管理订阅表、检测项规则等和通知方式
#### 订阅表
管理用户订阅的表,修改订阅信息、检测规则等  
![image.png-240.8kB][39]

+ **编辑检测**  
  点击进入编辑检测规则，可以选择DLL变化、表任务及通知方式  
  ![image.png-251.8kB][40]

+ **取消订阅**  
  点击弹出操作提示框（如下图），点击确认即可取消订阅  
  ![image.png-9.9kB][41]

#### 检测项
实现了元数据感知和订阅的感知项和规则管理  
分为主动检测以及个人订阅（如下图）  
![image.png-314.6kB][42]

+ **编辑检测项**
## 十一、数据安全

### 1.业务敏感

用于业务属主标记表的业务敏感字段，标记后可立即被数据地图捕获呈现并在申请流程中触发高敏审核结点。

- **表检索**  
  可以筛选敏感表与非敏感表，并可在列表中直观查看到该库表是否敏感
- **敏感字段**  
  可以为某一个表内字段进行敏感标注，勾选为敏感字段后，该表库也会被列为敏感并划入业务敏感中-敏感分类

![image.png-279.6kB][43]

### 2.安全敏感

用于安全标记表的安全敏感字段，标记后可立即被数据地图捕获呈现并在申请流程中触发高敏审核结点。

- **表检索**  
  可以筛选敏感表与非敏感表，并可在列表中直观查看到该库表是否敏感
- **敏感字段**  
  可以为某一个表内字段进行敏感标注，勾选为敏感字段后，该表库也会被列为敏感并划入安全敏感。 敏感字段标记支持数据安全服务方式和手动方式。手工方式高于安全服务方式打标。

![image.png-315.6kB][44]

- **安全级别变更表**  
  安全部的同学可以查看详细列表，并可立即回收有安全风险的用户表权限，同时也支持该页面表的下载

![image.png-345.3kB][45]

## 十二、平台配置

该模块主要负责数据地图的业务分类（从ODS到ADS）管理和数据发现中业务分类管理支持

### 1.数仓层级定义

用于定义管理数据地图中业务分类和对应的库表规则， 发生变化时可随时调整生效，保障资产分类的准确性

- **新增层级**  
  通过填写分类名称、中文名称、英文名称、中文描述，上传图标，填写规则进行新增层级的操作，创建成功会在一级页面下展示
- **编辑**  
  可对新增层级时填写的信息进行修改操作
- **删除**  
  可对二级及以上层级的数仓层进行删除操作（第一层级无法删除）
- **新增下级**  
  在已有数仓层级的基础上新增下级数仓

### 2.应用分类定义

用于直观定义管理数据发现中业务域的系统，库，表分类和对应的描述， 发生变化时可随时调整生效，保障资产分类的准确性

- **编辑**  
  可对分类名称、中文名称、英文名称、中文描述、技术接口人、图标、规则进行修改操作，修改成功后修改人会被记录在“更新人”属性下。
- **删除**  
  可对二级及以上层级的数仓层进行删除操作（第一层级无法删除）
- **新增下级**  
  在已有数仓层级的基础上新增下级数仓

![image.png-104.1kB][46]


[1]: http://static.zybuluo.com/zhouyue33333/exqjlp6zzsmxv8j02wuo131s/image.png
[2]: http://static.zybuluo.com/zhouyue33333/zwhey7lo11cxgs762gqd7538/image.png
[3]: http://static.zybuluo.com/zhouyue33333/oc0c4nsywx7gbg1uf1qq310g/image.png
[4]: http://static.zybuluo.com/zhouyue33333/w6uctblvb9vrbnf6azzcyrkv/image.png
[5]: http://static.zybuluo.com/zhouyue33333/3i8862bvz7qddx6ow0dgg90m/image.png
[6]: http://static.zybuluo.com/zhouyue33333/bc8zytl03vn1r38ma65pm7iv/image.png
[7]: http://static.zybuluo.com/zhouyue33333/tg0cl2gj6o7fd67tppeh232w/image.png
[8]: http://static.zybuluo.com/zhouyue33333/2l9ykma402lw22falwsy79l2/image.png
[9]: http://static.zybuluo.com/zhouyue33333/j856ihi5mjr0r97vg72yjiqr/image.png
[10]: http://static.zybuluo.com/zhouyue33333/prjmhd93nqs7us08sje2cphz/image.png
[11]: http://static.zybuluo.com/zhouyue33333/7fx9qyu89gxxyl0nlx6mieo5/image.png
[12]: http://static.zybuluo.com/zhouyue33333/7ke0nx1wmm1ij8ppqeiuv1ec/image.png
[13]: http://static.zybuluo.com/zhouyue33333/t8tzcjueqoq2ps4l124asp2g/image.png
[14]: http://static.zybuluo.com/zhouyue33333/or1wgrs7dr9hrvwpo0tajrzz/image.png
[15]: http://static.zybuluo.com/zhouyue33333/jorctv6z6nx5g2evp6e652bw/image.png
[16]: http://static.zybuluo.com/zhouyue33333/41lh9gmsztz71ojlraf15i04/image.png
[17]: http://static.zybuluo.com/zhouyue33333/14xtckk67cn9sx7m449sk32r/image.png
[18]: http://static.zybuluo.com/zhouyue33333/2scf5ncoc2pa3g5kpkqdpr29/image.png
[19]: http://static.zybuluo.com/zhouyue33333/fck5hjy2hv2nzcty3sv4hh4w/image.png
[20]: http://static.zybuluo.com/zhouyue33333/ed98t5f83dxire3ljn904fs9/image.png
[21]: http://static.zybuluo.com/zhouyue33333/4mqvowvcwtuww8vrd8f97ch8/image.png
[22]: http://static.zybuluo.com/zhouyue33333/k9m4tyzd5tu7q0o52h222uzt/image.png
[23]: http://static.zybuluo.com/zhouyue33333/xgkpvimtnq3u9ndo63sjm07b/image.png
[24]: http://static.zybuluo.com/zhouyue33333/r931qf1diht5voner8vi8uyt/image.png
[25]: http://static.zybuluo.com/zhouyue33333/l9soqrax2sesc64rin7b7kn4/image.png
[26]: http://static.zybuluo.com/zhouyue33333/9vxanylzwszo764twkxsud6a/image.png
[27]: http://static.zybuluo.com/zhouyue33333/qlft2nygp4rmq5nssiy13oma/image.png
[28]: http://static.zybuluo.com/zhouyue33333/vjomoirad2g8gyr0a8czyquh/image.png
[29]: http://static.zybuluo.com/zhouyue33333/9av2smolvb83192datybh2de/image.png
[30]: http://static.zybuluo.com/zhouyue33333/mii6c1mcg3maiidmsxzt13zb/image.png
[31]: http://static.zybuluo.com/zhouyue33333/w16o1w70h3kf5c9m2wki7fl0/image.png
[32]: http://static.zybuluo.com/zhouyue33333/wrmu6pcfylj46dyyiuh7vp7x/image.png
[33]: http://static.zybuluo.com/zhouyue33333/lh7n4pu2ss289ad3j130zi3v/image.png
[34]: http://static.zybuluo.com/zhouyue33333/rwgvz7fsg2vc731s82s13cqj/image.png
[35]: http://static.zybuluo.com/zhouyue33333/u1ylcwp1xr8l2pxhwht34078/image.png
[36]: http://static.zybuluo.com/zhouyue33333/s8vx82uqhvrbtplutyqn2j19/image.png
[37]: http://static.zybuluo.com/zhouyue33333/5gw03qglv7o4fwfxq0zjf82p/image.png
[38]: http://static.zybuluo.com/zhouyue33333/z4z2qz5kd3heuf1z8nmantnm/image.png
[39]: http://static.zybuluo.com/zhouyue33333/3hw2p8tyr6d0oi65uzbw9c6r/image.png
[40]: http://static.zybuluo.com/zhouyue33333/drniz4ls1rf0pf3ej4jfnvei/image.png
[41]: http://static.zybuluo.com/zhouyue33333/vw9mgbly291r38t3g8gimq31/image.png
[42]: http://static.zybuluo.com/zhouyue33333/hsdz2tep7l9e2mt7960eqpk6/image.png
[43]: http://static.zybuluo.com/zhouyue33333/lyaxvkqq6iw34cqid21wk50k/image.png
[44]: http://static.zybuluo.com/zhouyue33333/8zr2d2hz4ndf834w3khlczft/image.png
[45]: http://static.zybuluo.com/zhouyue33333/tkmehr6kw5nxk6j7p0mgj7kj/image.png
[46]: http://static.zybuluo.com/zhouyue33333/t3en1im4bq8fv9h4hl6rsu12/image.png